<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: Programming with Python</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
          <h1 class="title">Programming with Python</h1>
          <h2 class="subtitle">Drawing Polygons</h2>
<blockquote>
<h2>Learning Objectives</h2>
<ul>
<li>Explain what a library is, and what libraries are used for.</li>
<li>Load a Python library and use the things it contains.</li>
<li>Assign values to variables.</li>
<li>Draw lines using the turtle graphics library.</li>
<li>Create <code>for</code> loops over literal lists.</li>
<li>Create <code>for</code> loops over lists generated by <code>range</code>.</li>
<li>Use <code>for</code> loops to draw simple polygons.</li>
</ul>
</blockquote>
<p>Let’s start by running Python interactively in a command shell:</p>
<pre class="input"><code>$ python</code></pre>
<pre class="output"><code>Python 2.7.8 |Anaconda 2.1.0 (x86_64)| (default, Aug 21 2014, 15:21:46) 
[GCC 4.2.1 (Apple Inc. build 5577)] on darwin
Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
Anaconda is brought to you by Continuum Analytics.
Please check out: http://continuum.io/thanks and https://binstar.org
&gt;&gt;&gt; </code></pre>
<p>The <code>&gt;&gt;&gt;</code> prompt is Python’s equivalent of the <code>$</code> prompt that the shell uses, and shows that Python is ready to accept commands. To make sure everything’s working, let’s do some simple arithmetic:</p>
<pre class="input"><code>&gt;&gt;&gt; print 1 + 2</code></pre>
<pre class="output"><code>3</code></pre>
<p><code>print</code> is a command, just like <code>cat</code> and <code>cd</code> are commands in the shell. The difference is that <code>print</code> is being interpreted by Python:</p>
<div class="figure">
<img src="fig/python-shell.png" alt="python-shell" /><p class="caption">python-shell</p>
</div>
<p>While a lot of powerful commands are built into Python, even more live in the <strong>libraries</strong> those commands are used to build. In order to use a library, we need to <strong>import</strong> it like this:</p>
<pre class="input"><code>&gt;&gt;&gt; import turtle</code></pre>
<p>This command does not produce any output: since everything worked, it doesn’t need our attention. We can check that the library has been loaded by trying to print it:</p>
<pre class="input"><code>&gt;&gt;&gt; print turtle</code></pre>
<pre class="output"><code>&lt;module &#39;turtle&#39; from &#39;/Users/gvwilson/anaconda/lib/python2.7/lib-tk/turtle.pyc&#39;&gt;</code></pre>
<p>That message doesn’t mean anything to us yet, but it does confirm that the library has been loaded. If it hadn’t been, or if we mis-typed the name, we would get an error message:</p>
<pre class="input"><code>&gt;&gt;&gt; print hamster</code></pre>
<pre class="error"><code>Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
NameError: name &#39;hamster&#39; is not defined</code></pre>
<p>Now that the library has been loaded, we can tell Python to use it like this:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.forward(50)</code></pre>
<p>If everything is working, a new window should open to display a short black arrow pointing right:</p>
<div class="figure">
<img src="fig/forward50.png" alt="forward50" /><p class="caption">forward50</p>
</div>
<p>The arrowhead is a <strong>turtle</strong> — a simple drawing cursor that we can move with Python commands. The line is 50 pixels long and shows how the turtle has recently moved.</p>
<div id="turtles" class="callout panel panel-info">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pushpin"></span>Turtles</h2>
</div>
<div class="panel-body">
<p>FIXME: explain origins of turtle graphics</p>
</div>
</div>
<p>The expression <code>turtle.forward</code> is an example of <strong>dotted notation</strong>. The word on the left of the dot identifies the thing that’s doing the action; the word on the right is something it knows how to do. Since we want to tell the turtle how far to go when we ask it to move forward, we have to give <code>turtle.forward</code> a number (in this case, 50).</p>
<p>Turtles know how to do many other things as well. Try this:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.left(90)</code></pre>
<div class="figure">
<img src="fig/left90.png" alt="left90" /><p class="caption">left90</p>
</div>
<p>The picture hasn’t changed, but the turtle is now pointing straight up, i.e., 90 degrees counter-clockwise from its previous heading. If we tell the turtle to move forward again, it draws a line in that direction:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.forward(50)</code></pre>
<div class="figure">
<img src="fig/farward50_2.png" alt="farward50_2" /><p class="caption">farward50_2</p>
</div>
<p>If we tell the turtle to turn left, go forward, turn left, and go forward again, the result is a square:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.left(90)
&gt;&gt;&gt; turtle.forward(50)
&gt;&gt;&gt; turtle.left(90)
&gt;&gt;&gt; turtle.forward(50)</code></pre>
<div class="figure">
<img src="fig/square1.png" alt="square1" /><p class="caption">square1</p>
</div>
<p>We can erase the drawing by asking the turtle to clear the screen:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.clear()</code></pre>
<div class="figure">
<img src="fig/clear1.png" alt="clear1" /><p class="caption">clear1</p>
</div>
<p>If you look carefully, you’ll see that this leaves the turtle pointing south. If we want to clear the screen <em>and</em> put the turtle back in the starting position, we need to ask it to reset itself:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.reset()</code></pre>
<div class="figure">
<img src="fig/reset.png" alt="reset" /><p class="caption">reset</p>
</div>
<p>Notice that both <code>turtle.clear</code> and <code>turtle.reset</code> have empty parentheses after their names. We use parentheses whenever we are asking a turtle (or anything else) to do an action — in technical terms, to execute a <strong>method</strong>. If we leave off the parentheses, Python just shows us that the method we’re talking about exists:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.forward
&lt;function forward at 0x1007cb398&gt;</code></pre>
<pre class="output"><code>&lt;function forward at 0x1007cb398&gt;</code></pre>
<p>Suppose we want to draw our square again, but make it larger. We could use up-arrow to cycle through previous commands, just as we do in the shell, but entering them one by one would be tedious. Instead, let’s get the computer to repeat things for us.</p>
<p>The first step looks like this:</p>
<pre class="input"><code>&gt;&gt;&gt; for number in [1, 2, 3]:
...     print 9
... </code></pre>
<pre class="output"><code>9
9
9</code></pre>
<p>The first line starts a <code>for</code> loop. It tells Python that we want to repeat a command once for each value in a list. The list is written as <code>[1, 2, 3]</code>, and the command to be repeated — <code>print 9</code> — is indented under the first line.</p>
<p>The word <code>number</code> is a <strong>variable</strong>. Each time Python executes the loop, it <strong>assigns</strong> the next value from the list to the variable. We can then use the variable inside the loop like this:</p>
<pre class="input"><code>&gt;&gt;&gt; for number in [1, 2, 3]:
...     print number
... </code></pre>
<pre class="output"><code>1
2
3</code></pre>
<p>There is nothing special about the name <code>number</code> — we could equally well write the loop like this:</p>
<pre class="input"><code>&gt;&gt;&gt; for thing in [1, 2, 3]:
...     print thing
... </code></pre>
<pre class="output"><code>1
2
3</code></pre>
<p>We can also put multiple commmands, or <strong>statements</strong>, in the loop:</p>
<pre class="input"><code>&gt;&gt;&gt; for number in [1, 2, 3]:
...     print number
...     print number * number
... </code></pre>
<pre class="output"><code>1
1
2
4
3
9</code></pre>
<p>We now have everything we need to draw a square:</p>
<pre class="input"><code>&gt;&gt;&gt; for number in [1, 2, 3, 4]:
...     turtle.forward(60)
...     turtle.left(90)
... </code></pre>
<div class="figure">
<img src="fig/square2.png" alt="square2" /><p class="caption">square2</p>
</div>
<p>This is much better than typing “forward”, “left”, “forward”, “left” over and over again for two reasons:</p>
<ol style="list-style-type: decimal">
<li><p>It’s easier to see the intent: the turtle is moving forward and turning left four times.</p></li>
<li><p>It’s easier to check its consistency: the key numbers 60 (the distance) and 90 (the angle) only appear once.</p></li>
</ol>
<p>Note that the indentation is really important. If we write this as:</p>
<pre class="input"><code>&gt;&gt;&gt; for number in [1, 2, 3, 4]:
...     turtle.forward(60)
... 
&gt;&gt;&gt; turtle.left(90)</code></pre>
<p>we’re telling the turtle to forward forward 60 pixels four times, and then turn left once.</p>
<div id="fixme" class="challenge panel panel-success">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>FIXME</h2>
</div>
<div class="panel-body">
<p>Explain why we need the blank line.</p>
</div>
</div>
<p>This loop could still be improved, though. To see why, clear the screen with <code>turtle.reset()</code>:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.reset()</code></pre>
<p>and then run this:</p>
<pre class="input"><code>&gt;&gt;&gt; for number in [1, 2, 4]:
...     turtle.forward(60)
...     turtle.left(90)
... </code></pre>
<p>The output is:</p>
<div class="figure">
<img src="fig/square3.png" alt="square3" /><p class="caption">square3</p>
</div>
<p>which is clearly not a square. It only takes a moment to realize that we mis-typed the list: it is <code>[1, 2, 4]</code> with the 3 missing.</p>
<p>The problem is simple enough to spot in this case, but would be harder if we were drawing a 20-sided polygon. Luckily, Python has a built-in <strong>function</strong> to help us:</p>
<pre class="input"><code>&gt;&gt;&gt; print range(4)</code></pre>
<pre class="output"><code>[0, 1, 2, 3]</code></pre>
<pre class="input"><code>&gt;&gt;&gt; print range(10)</code></pre>
<pre class="output"><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</code></pre>
<p>As you can probably guess, <code>range(N)</code> creates a list of N numbers starting at 0. We can use this to draw our square:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.reset()</code></pre>
<pre class="input"><code>&gt;&gt;&gt; for side in range(4):
...     turtle.forward(60)
...     turtle.left(90)
... </code></pre>
<div class="figure">
<img src="fig/square4.png" alt="square4" /><p class="caption">square4</p>
</div>
<p>Using <code>range</code> this way makes the intent of our code even clearer, as does calling the <strong>loop variable</strong> <code>side</code> instead of <code>number</code>. We can now see that if we want to change the number of sides, we change the <strong>parameter</strong> passed to <code>range</code>. If we want to change the size of the polygon, we change the parameter to <code>turtle.forward</code>, and if we want to change the turning angle, we change the parameter to <code>left</code>. For example, to create a hexagon, we do this:</p>
<pre class="input"><code>&gt;&gt;&gt; turtle.reset()</code></pre>
<pre class="input"><code>&gt;&gt;&gt; for side in range(6):
...     turtle.forward(50)
...     turtle.left(60)
... </code></pre>
<div class="figure">
<img src="fig/polygon1.png" alt="polygon1" /><p class="caption">polygon1</p>
</div>
<p>These three lines now embody one of the core principles of good program design: every fact appears exactly once. If we want to change the number of sides, we change the parameter to <code>range</code>; if we want to change the size, we change the parameter to <code>turtle.forward</code>, and if we want a different turning angle, we give <code>turtle.left</code> a different value. Equally, we can now read the behavior directly from the code: “draw 6 lines, each 50 pixels long, at 60 degree angles to each other”.</p>
<p>But we’re still not done, because we still need to type in three lines each time we want to draw a polygon. What we’d really like to do is type:</p>
<pre class="input"><code>&gt;&gt;&gt; polygon(6, 50, 60)</code></pre>
<p>and have Python figure out the rest. How we do that is the subject of the next lesson.</p>
<div id="fixme-1" class="challenge panel panel-success">
<div class="panel-heading">
<h2><span class="glyphicon glyphicon-pencil"></span>FIXME</h2>
</div>
<div class="panel-body">
<p>Add challenges.</p>
</div>
</div>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/python-novice-turtles">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
